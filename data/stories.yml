version: "3.1"

stories:


###########################
#                         #
#        STANDINGS        #
#                         #
###########################

- story: standings_path (HAPPY path - v1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: give_competition
    - action: utter_which_api
    - intent: give_api_section
    # DE AQUÍ PARA ARRIBA SE REPITE ENTERO (se podría usar checkpoint)
    - slot_was_set:
      - api_section: Standings
    - action: standings_form
      # The form should be activated after standings_form was run.
    - active_loop: standings_form
    - slot_was_set:
      - requested_slot: season
    - slot_was_set:
      - requested_slot: round
    # Form is deactivated
    - slot_was_set:
      - requested_slot: null
    - active_loop: null
    # The actions we want to run when the form is submitted.
    - action: action_return_requested_standings
#    - slot_was_set:
#      - competition: null
#    - slot_was_set:
#      - season: null
#    - slot_was_set:
#      - round: null

#- story: standings_path (HAPPY path - v1) - OLD
#  steps:
#    - intent: greet
#    - action: utter_greet
#    - intent: give_competition
##    - slot_was_set:
##      - competition: Euroleague
#    - action: utter_which_api
#    - intent: request_standings_info
#    - action: standings_form
#      # The form should be activated after standings_form was run.
#    - active_loop: standings_form
#    - slot_was_set:
#      - requested_slot: season
#    - slot_was_set:
#      - requested_slot: round
#    # Form is deactivated
#    - slot_was_set:
#      - requested_slot: null
#    - active_loop: null
#    # The actions we want to run when the form is submitted.
#    - action: action_return_requested_standings

#- story: standings_path (UNHAPPY PATH - v1.1 - user is asked to interrupt the form and does not want to continue)
#  steps:
#    - intent: greet
#    - action: utter_greet
#    - intent: give_competition
##    - slot_was_set:
##      - competition: Euroleague
#    - action: utter_which_api
#    - intent: request_standings_info
#    - action: standings_form
#      # The form should be activated after standings_form was run.
#    - active_loop: standings_form
#    - slot_was_set:
#      - requested_slot: season
#    - intent: interrupt_form
#    - action: utter_ask_interrupt_form
#    - intent: affirm
#    - action: action_deactivate_loop # DEFAULT ACTION that deactivates the active loop and resets the requested slot.
#    # Form is deactivated
#    - slot_was_set:
#      - requested_slot: null
#    - active_loop: null


############################
#                          #
#        TEAM STATS        #
#                          #
############################

- story: team_stats_all_seasons_path (happy path - v1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: give_competition
    - action: utter_which_api
    - intent: give_api_section
    # DE AQUÍ PARA ARRIBA SE REPITE ENTERO (se podría usar checkpoint)
    - slot_was_set:
      - api_section: Team Stats
    - action: utter_which_team_stat_type
    - intent: give_team_stat_type
    - slot_was_set:
      - team_stat_type: all seasons
    - action: team_stats_all_form
    # The form should be activated after team_stats_all_form was run.
    - active_loop: team_stats_all_form
    # - action: action_return_teams_available -> LO PONGAS DONDE LO PONGAS NO LO HACE
    - slot_was_set:
      - requested_slot: team
    # Form is deactivated
    - slot_was_set:
      - requested_slot: null
    - active_loop: null
    # The actions we want to run when the form is submitted
    - action: action_return_requested_team_stats_all

- story: team_stats_single_seasons_path (happy path - v1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: give_competition
    - action: utter_which_api
    - intent: give_api_section
    # DE AQUÍ PARA ARRIBA SE REPITE ENTERO (se podría usar checkpoint)
    - slot_was_set:
      - api_section: Team Stats
    - action: utter_which_team_stat_type
    - intent: give_team_stat_type
    - slot_was_set:
      - team_stat_type: single season
    - action: team_stats_single_season_form
    # The form should be activated after team_stats_all_form was run.
    - active_loop: team_stats_single_season_form
    # - action: action_return_teams_available -> LO PONGAS DONDE LO PONGAS NO LO HACE
    - slot_was_set:
      - requested_slot: team
    - slot_was_set:
      - requested_slot: season
    # Form is deactivated
    - slot_was_set:
      - requested_slot: null
    - active_loop: null
    # The actions we want to run when the form is submitted
    - action: action_return_requested_team_stats_single_season

#- story: team_stats_all_seasons_path (happy path - v1)
#  steps:
#    - intent: greet
#    - action: utter_greet
#    - intent: give_competition
#    - action: utter_which_api
#    - intent: request_team_stats_info
#    - action: team_stats_all_form
#    # The form should be activated after team_stats_all_form was run.
#    - active_loop: team_stats_all_form
#    # - action: action_return_teams_available -> LO PONGAS DONDE LO PONGAS NO LO HACE
#    - slot_was_set:
#      - requested_slot: team
#    # Form is deactivated
#    - slot_was_set:
#      - requested_slot: null
#    - active_loop: null
#    # The actions we want to run when the form is submitted
#    - action: action_return_requested_team_stats_all



# LO DEJO POR SI ACASO
#- story: team_stats_all_seasons_path
#  steps:
#    - intent: greet
#    - action: utter_greet
#    - active_loop: team_stats_all_form
#
#    - intent: give_competition
#    - slot_was_set:
#      - requested_slot: competition
#    - action: utter_which_api
#    - intent: give_team_stats
#    # - intent: give_api
#    # - slot_was_set:
#    #   - requested_slot: api_slot
#    - action: utter_team_stats_type
#    # - intent: give_team_stats_type
#    # - slot_was_set:
#    #   - requested_slot: team_stats_type
#    - intent: give_team_stats_all
#
#    - action: action_return_teams_available
#    - action: utter_team
#    - intent: give_team
#    - slot_was_set:
#      - requested_slot: team
#
#    - slot_was_set:
#      - requested_slot: null
#    - active_loop: null
#    - action: action_return_team_stats_all

############################
#                          #
#       PLAYER STATS       #
#                          #
############################

- story: single_player_stats (happy path - v1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: give_competition
    - action: utter_which_api
    - intent: give_api_section
    # DE AQUÍ PARA ARRIBA SE REPITE ENTERO (se podría usar checkpoint)
    - slot_was_set:
      - api_section: Player Stats
    
    - action: utter_which_player_stat_type
    - intent: give_player_stat_type

    - slot_was_set:
      - requested_slot: Single Player
    - action: player_stats_all_form
    # The form should be activated after team_stats_all_form was run.
    - active_loop: player_stats_all_form
    # - action: action_return_teams_available -> LO PONGAS DONDE LO PONGAS NO LO HACE
    - slot_was_set:
      - requested_slot: player
    # Form is deactivated
    - slot_was_set:
      - requested_slot: null
    - active_loop: null
    # The actions we want to run when the form is submitted
    - action: action_return_requested_player_stats_all

- story: leaders_player_stats (happy path - v1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: give_competition
    - action: utter_which_api
    - intent: give_api_section
    # DE AQUÍ PARA ARRIBA SE REPITE ENTERO (se podría usar checkpoint)
    - slot_was_set:
      - api_section: Player Stats

    - slot_was_set:
      - requested_slot: Leaders

    - action: action_return_available_leaders
    - action: leaders_stats_all_form
    # The form should be activated after team_stats_all_form was run.
    - active_loop: leaders_stats_all_form
    # - action: action_return_teams_available -> LO PONGAS DONDE LO PONGAS NO LO HACE
    - slot_was_set:
      - requested_slot: category
    - slot_was_set:
      - requested_slot: mode
    # Form is deactivated
    - slot_was_set:
      - requested_slot: null
    - active_loop: null
    # The actions we want to run when the form is submitted
    - action: action_return_requested_leaders_stats_all